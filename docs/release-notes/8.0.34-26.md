# Percona Server for MySQL 8.0.34-26 (2023-)

[Percona Server for MySQL 8.0.34-26](https://www.percona.com/software/mysql-database/percona-server) includes all the features and bug fixes available in the
[MySQL 8.0.34 Community Edition](https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-34.html) in addition to enterprise-grade features developed by Percona.

Percona Server for MySQL is a freely available, fully compatible, enhanced, and open source drop-in replacement for any MySQL database. It provides superior and optimized performance, greater scalability, and availability, enhanced backups, increased visibility and instrumentation.

Percona Server for MySQL is trusted by thousands of enterprises to provide better performance and concurrency for their most demanding workloads.

## Release highlights

* Percona Server for MySQL 8.0.34-26 implements the [Audit Log Filter plugin](../audit-log-filter-overview.md) that allows you to monitor, log, and block a connection or query actively executed on the selected server. 

* Percona Server for MySQL 8.0.34-26 implements the [data masking component](../data-masking-comparison.md). The data masking component extends the server's functionality and supports more arguments to the `gen_rnd_email()` function than the data masking plugin.

Improvements and bug fixes introduced by Oracle for MySQL 8.0.34 and included in Percona Server for MySQL are the following:



Find the full list of bug fixes and changes in the [MySQL 8.0.34 Release Notes](https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-34.html).

## New features

* [PS-8042](https://jira.percona.com/browse/PS-8042): Implements the [Audit Log Filter plugin](../audit-log-filter-overview.md).

The following features and improvements were added by imlementing the Audit Log Filter plugin feature:

  * [PS-3874](https://jira.percona.com/browse/PS-3874): Adds options to the Audit Plugin to allow multiple configurations.

  * [PS-5164](https://jira.percona.com/browse/PS-5164): Adds `Rows_sent` and `Rows_examined` fields to the Audit Log plugin.

  * [PS-5814](https://jira.percona.com/browse/PS-5814): Allows the audit log to be rotated when MySQL starts.

  * [PS-236](https://jira.percona.com/browse/PS-236): Prepared statements are now logged in the audit plugin.

  * [PS-2480](https://jira.percona.com/browse/PS-2480): Adds diagnostics when audit log does synchronous writes in ASYNC mode.

  * [PS-7331](https://jira.percona.com/browse/PS-7331): Sets the default value of `audit_log_rotations` options to rotate.

  * [PS-5945](https://jira.percona.com/browse/PS-5945): Adds the MySQL server host name to `audit_log` details when writing to the SYSLOG.

* [PS-8848](https://jira.percona.com/browse/PS-8848): Increases verbosity of the connection control plugin.

## Improvements

*  [PS-8728](https://jira.percona.com/browse/PS-8728): Adds the data masking component to align Percona Data Masking functionality with Oracle 8.0.33.

* [PS-8624](https://jira.percona.com/browse/PS-8624): Exposes the number of TABLE objects with triggers in the Table Cache.

* [PS-8742](https://jira.percona.com/browse/PS-8742): Adds the `audit_log_filter_database` system variable.

## Bug fixes

* [PS-8811](https://jira.percona.com/browse/PS-8811): There were linking issues with protocol buffers and macOS 12 on Azure Pipelines.

* [PS-3942](https://jira.percona.com/browse/PS-3942): The MySQL ping command caused the `command_class="error"` in the audit log output.

* [PS-8504](https://jira.percona.com/browse/PS-8504): Setting a large value of `audit_log_filter_buffer_size` caused the server exit.

* [PS-8505](https://jira.percona.com/browse/PS-8505): The `audit_log_filter_set_user()` option did not work properly for the root user.

* [PS-8519](https://jira.percona.com/browse/PS-8519): The server exited if the directory did not have permission to create the audit log file.

* [PS-8521](https://jira.percona.com/browse/PS-8521): The audit log `filter_id` was assigned incorrectly for the root user.

* [PS-8714](https://jira.percona.com/browse/PS-8714): Starting the audit log filter with encryption and compression enabled caused the the server exit.

* [PS-8759](https://jira.percona.com/browse/PS-8759): The large values of `audit_log_filter_key_derivation_iterations_count_mean` caused the server exit.

* [PS-8770](https://jira.percona.com/browse/PS-8770): The `INSTANT DDL` caused Percona Server 8.0.32 exit after upgrading from 5.7.41.

* [PS-8772](https://jira.percona.com/browse/PS-8772): Stall of instance after INSERT (...) SELECT

* [PS-8785](https://jira.percona.com/browse/PS-8785): The instance was completely stalled when using `INSERT (...) SELECT`.

* [PS-8789](https://jira.percona.com/browse/PS-8789): The audit logs were not pruned when `audit-log-filter-file` did not have file extension.

* [PS-8790](https://jira.percona.com/browse/PS-8790): The audit logs were not pruned after performing the manual rotation.

* [PS-8792](https://jira.percona.com/browse/PS-8792): The audit log files with names without extension were rotated incorrectly on the server shutdown.

* [PS-8796](https://jira.percona.com/browse/PS-8796): The encrypted audit logs were purged in the wrong order.

* [PS-8797](https://jira.percona.com/browse/PS-8797): The audit log plugin installation caused the server exit.

* [PS-8799](https://jira.percona.com/browse/PS-8799): The encrypted audit log files were not rotated on the server shutdown.

* [PS-8810](https://jira.percona.com/browse/PS-8810): The `FEDERATED` update on table could fail without notifications when the table contained `DOUBLE` columns.

* [PS-8824](https://jira.percona.com/browse/PS-8824): The `'audit_log_filter' already exists'` ERROR occured when provisioning tables for `audit_log_filter_database`.

* [PS-8826](https://jira.percona.com/browse/PS-8826): The `audit_log_filter_syslog_priority` and `audit_log_filter_syslog_facility` variables were dynamic instead of read-only.

* [PS-8859](https://jira.percona.com/browse/PS-8859): The `audit_log_filter` build failed on gcc-8.

* [PS-8869](https://jira.percona.com/browse/PS-8869): The semi-sync master waited for ack when semi-sync replica was down and when was replaced with async.

* [PS-8871](https://jira.percona.com/browse/PS-8871): The RESOURCE GROUP hint failed when it was used within a prepared statement.

* [PS-8877](https://jira.percona.com/browse/PS-8877): The server exited when selecting from `performance_schema.innodb_redo_log_files`.

The following bugs were fixed by imlementing the Audit Log Filter plugin:

* [PS-5784](https://jira.percona.com/browse/PS-5784): The default `audit_log_format` parameter value for MySQL 8 was NEW but the default value for the Percona Server for MySQL Audit log plugin was OLD. 

* [PS-6863](https://jira.percona.com/browse/PS-6863): The `audit_log` plugin did not handle the application messages from the `audit_api_message_emit` component.

## Packaging notes

Percona Server for MySQL 8.0.34-26 supports Debian 12.

## Useful links

Install [Percona Server for MySQL 8.0](https://docs.percona.com/percona-server/8.0/installation.html)

Upgrade [Percona Server for MySQL from 5.7 to 8.0](https://docs.percona.com/percona-server/8.0/upgrading_guide.html)

The [Percona Server for MySQL GitHub location](https://github.com/percona/percona-server)

Download product binaries, packages, and tarballs at [Percona Product Downloads](https://www.percona.com/downloads)

[Contribute to the documentation](https://github.com/percona/psmysql-docs/blob/8.0/contributing.md)

For [training](https://www.percona.com/training), contact [Percona Training - Start learning now](https://learn.percona.com/contact-me)
